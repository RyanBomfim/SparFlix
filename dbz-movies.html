<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sparflix - DBZ Movies</title>

  <!-- Favicons -->
  <link href="assets/img/logo.png" rel="icon">
  <link href="assets/img/logo.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;600;700&family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

</head>

<body>
  <!-- Cabeçalho -->
  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container position-relative d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center justify-content-center me-auto me-xl-0">
        <img src="assets/img/logo.png" alt="">
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">Sobre</a></li>
          <li><a href="dbz-movies.html" class="active">Filmes</a></li>
          <li><a href="notices.html">Notícias</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

      <div class="header-social-links">
        <a href="mailto:ryanocbomfim@gmail.com" class="gmail"><i class="bi bi-google"></i></a>
        <a href="https://www.instagram.com/iam.ryan10" class="instagram"><i class="bi bi-instagram"></i></a>
        <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
      </div>
    </div>
  </header>

  <div class="container text-center">
    <h1 class="dbz-title">M<span class="dbz-o">O</span>vies</h1>
    <br>
  </div>

  <!-- Player -->
  <section class="container my-4 player-section" id="playerSection" style="display:none;">
    <div class="video-container" id="videoPlayer"></div>
    <h3 id="playerTitulo" class="mt-3"></h3>
    <p id="playerDescricao"></p>
  </section>

  <!-- Catálogo de filmes -->
  <div class="filmes-box">
    <!-- Pesquisa -->
    <section class=" text-center search-section container" style="top: 0 !important; width: 800px;">
      <div class="container">
        <div class="input-group" style="gap:8px;">
          <span class="input-group-text bg-white text-dark" style="border-radius:0;">
            <img src="assets/img/search.png" alt="" style="width: 30px;">
          </span>
          <input type="text" id="searchInput" class="form-control bg-white text-dark border-white"
            style="border-radius:0;" placeholder="Digite o nome do filme...">
        </div>
      </div>
    </section>

    <div class="container p-5">
      <div class="row" id="filmesContainer"></div>
    </div>
  </div>

  <!-- Script -->
  <script>
    const filmes = [
      {
        titulo: "Dragon Ball Z: Broly o Lendário Super Saiyajin (1993)",
        descricao: "Broly, o Saiyajin lendário, desperta para uma batalha devastadora.",
        imagem: "https://img.youtube.com/vi/O6tXYPUfC8A/mqdefault.jpg",
        video: '<iframe width="100%" height="450" src="https://www.youtube.com/embed/O6tXYPUfC8A" allowfullscreen></iframe>',
        duracao: "1:10:00"
      },
      {
        titulo: "Dragon Ball Z: O Homem Mais Forte do Mundo (1990)",
        descricao: "Dr. Wheelo procura o corpo mais forte para dominar o mundo.",
        imagem: "https://img.youtube.com/vi/VAk0nnBYeIU/mqdefault.jpg",
        video: '<iframe width="100%" height="450" src="https://www.youtube.com/embed/VAk0nnBYeIU" allowfullscreen></iframe>',
        duracao: "59:00"
      },
      {
        titulo: "Dragon Ball Z: A Árvore do Poder (1990)",
        descricao: "Turles planta a Árvore do Poder para consumir toda a energia da Terra.",
        imagem: "https://img.youtube.com/vi/rN9gImAMMBc/mqdefault.jpg",
        video: '<iframe width="100%" height="450" src="https://www.youtube.com/embed/rN9gImAMMBc?si=SRR-CT5ccwkRao5h" allowfullscreen></iframe>',
        duracao: "1:05:00"
      }
    ];

    const searchInput = document.getElementById("searchInput");
    const filmesContainer = document.getElementById("filmesContainer");
    const playerSection = document.getElementById("playerSection");
    const videoPlayer = document.getElementById("videoPlayer");
    const playerTitulo = document.getElementById("playerTitulo");
    const playerDescricao = document.getElementById("playerDescricao");

    // Renderizar os cards
    function renderFilmes(lista) {
      filmesContainer.innerHTML = "";
      lista.forEach((filme, index) => {
        const col = document.createElement("div");
        col.classList.add("col-md-4", "mb-3");

        col.innerHTML = `
          <div class="card h-100 text-white" data-index="${index}" style="cursor:pointer; background-color: transparent;">
            <div class="img-container">
              <img src="${filme.imagem}" class="card-img-top" alt="${filme.titulo}">
              <div class="duration-badge">${filme.duracao}</div>
            </div>
            <div class="card-body">
              <h5 class="card-title">${filme.titulo}</h5>
              <p class="card-text">${filme.descricao}</p>
            </div>
          </div>
        `;

        col.addEventListener("click", () => {
          videoPlayer.innerHTML = filme.video;
          playerTitulo.textContent = filme.titulo;
          playerDescricao.textContent = filme.descricao;
          playerSection.style.display = "block";
          window.scrollTo({ top: 0, behavior: "smooth" });
        });

        filmesContainer.appendChild(col);
      });
    }

    // Filtro de pesquisa
    searchInput.addEventListener("input", () => {
      const termo = searchInput.value.toLowerCase();
      const filtrados = filmes.filter(f =>
        f.titulo.toLowerCase().includes(termo)
      );
      renderFilmes(filtrados.length > 0 ? filtrados : filmes);
    });

    // Inicial: mostra todos
    renderFilmes(filmes);
  </script>
</body>

</html>
